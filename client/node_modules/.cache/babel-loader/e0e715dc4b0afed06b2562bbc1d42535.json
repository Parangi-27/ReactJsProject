{"ast":null,"code":"var _jsxFileName = \"E:\\\\ReactJsProject\\\\client\\\\src\\\\component\\\\list\\\\DraggableList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './draggable-list.css';\nimport DraggableListItem from './DraggableListItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraggableList = props => {\n  _s();\n  const [data, setdata] = useState(props.data);\n  const [dragStartIndex, setdragStartIndex] = useState(null);\n\n  // get index of draged item\n  const onDragStart = index => setdragStartIndex(index);\n\n  // update list when item dropped\n  const onDrop = dropIndex => {\n    // get draged item\n    const dragItem = data[dragStartIndex];\n\n    // delete draged item in list\n    let list = [...data];\n    list.splice(dragStartIndex, 1);\n\n    // update list\n    if (dragStartIndex < dropIndex) {\n      setdata([...list.slice(0, dropIndex - 1), dragItem, ...list.slice(dropIndex - 1, list.length)]);\n    } else {\n      setdata([...list.slice(0, dropIndex), dragItem, ...list.slice(dropIndex, list.length)]);\n    }\n  };\n  useEffect(() => {\n    console.log(props.data);\n  });\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"draggable-list\",\n    children: [data.map((item, index) => /*#__PURE__*/_jsxDEV(DraggableListItem, {\n      index: index,\n      onDragStart: index => onDragStart(index),\n      onDrop: index => onDrop(index),\n      children: props.renderItemContent(item)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this)), /*#__PURE__*/_jsxDEV(DraggableListItem, {\n      index: data.length,\n      draggale: false,\n      onDrop: index => onDrop(index)\n    }, data.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(DraggableList, \"Kj5dCbqEpIEZrEr8T/Fde+lJ5u4=\");\n_c = DraggableList;\nDraggableList.propTypes = {\n  data: PropTypes.array,\n  renderItemContent: PropTypes.func\n};\nexport default DraggableList;\nvar _c;\n$RefreshReg$(_c, \"DraggableList\");","map":{"version":3,"names":["React","useState","PropTypes","DraggableListItem","DraggableList","props","data","setdata","dragStartIndex","setdragStartIndex","onDragStart","index","onDrop","dropIndex","dragItem","list","splice","slice","length","useEffect","console","log","map","item","renderItemContent","propTypes","array","func"],"sources":["E:/ReactJsProject/client/src/component/list/DraggableList.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nimport './draggable-list.css'\n\nimport DraggableListItem from './DraggableListItem'\n\nconst DraggableList = props => {\n\n    const [data, setdata] = useState(props.data);\n\n    const [dragStartIndex, setdragStartIndex] = useState(null);\n\n    // get index of draged item\n    const onDragStart = (index) => setdragStartIndex(index)\n\n    // update list when item dropped\n    const onDrop = (dropIndex) => {\n        // get draged item\n        const dragItem = data[dragStartIndex]\n\n        // delete draged item in list\n        let list = [...data]\n        list.splice(dragStartIndex, 1)\n\n        // update list\n        if (dragStartIndex < dropIndex) {\n            setdata([\n                ...list.slice(0, dropIndex - 1),\n                dragItem,\n                ...list.slice(dropIndex - 1, list.length)\n            ])\n        } else {\n            setdata([\n                ...list.slice(0, dropIndex),\n                dragItem,\n                ...list.slice(dropIndex, list.length)\n            ])\n        }\n    }\n    useEffect(()=>{\n        console.log(props.data);\n    })\n  \n\n    return (\n        <ul className=\"draggable-list\">\n            {\n                data.map((item, index) => (\n                    <DraggableListItem\n                        key={index}\n                        index={index}\n                        onDragStart={(index) => onDragStart(index)}\n                        onDrop={(index) => onDrop(index)}\n                    >\n                        {\n                            props.renderItemContent(item)\n                        }\n                    </DraggableListItem>\n                ))\n            }\n            {/*\n                add last item so you can drag item to last position\n                last item dont need onDragStart because it can not be draged\n            */}\n            <DraggableListItem\n                key={data.length}\n                index={data.length}\n                draggale={false}\n                onDrop={(index) => onDrop(index)}\n            />\n        </ul>\n    )\n}\n\nDraggableList.propTypes = {\n    data: PropTypes.array,\n    renderItemContent: PropTypes.func\n}\n\nexport default DraggableList\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAO,sBAAsB;AAE7B,OAAOC,iBAAiB,MAAM,qBAAqB;AAAA;AAEnD,MAAMC,aAAa,GAAGC,KAAK,IAAI;EAAA;EAE3B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAACI,KAAK,CAACC,IAAI,CAAC;EAE5C,MAAM,CAACE,cAAc,EAAEC,iBAAiB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;;EAE1D;EACA,MAAMS,WAAW,GAAIC,KAAK,IAAKF,iBAAiB,CAACE,KAAK,CAAC;;EAEvD;EACA,MAAMC,MAAM,GAAIC,SAAS,IAAK;IAC1B;IACA,MAAMC,QAAQ,GAAGR,IAAI,CAACE,cAAc,CAAC;;IAErC;IACA,IAAIO,IAAI,GAAG,CAAC,GAAGT,IAAI,CAAC;IACpBS,IAAI,CAACC,MAAM,CAACR,cAAc,EAAE,CAAC,CAAC;;IAE9B;IACA,IAAIA,cAAc,GAAGK,SAAS,EAAE;MAC5BN,OAAO,CAAC,CACJ,GAAGQ,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEJ,SAAS,GAAG,CAAC,CAAC,EAC/BC,QAAQ,EACR,GAAGC,IAAI,CAACE,KAAK,CAACJ,SAAS,GAAG,CAAC,EAAEE,IAAI,CAACG,MAAM,CAAC,CAC5C,CAAC;IACN,CAAC,MAAM;MACHX,OAAO,CAAC,CACJ,GAAGQ,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEJ,SAAS,CAAC,EAC3BC,QAAQ,EACR,GAAGC,IAAI,CAACE,KAAK,CAACJ,SAAS,EAAEE,IAAI,CAACG,MAAM,CAAC,CACxC,CAAC;IACN;EACJ,CAAC;EACDC,SAAS,CAAC,MAAI;IACVC,OAAO,CAACC,GAAG,CAAChB,KAAK,CAACC,IAAI,CAAC;EAC3B,CAAC,CAAC;EAGF,oBACI;IAAI,SAAS,EAAC,gBAAgB;IAAA,WAEtBA,IAAI,CAACgB,GAAG,CAAC,CAACC,IAAI,EAAEZ,KAAK,kBACjB,QAAC,iBAAiB;MAEd,KAAK,EAAEA,KAAM;MACb,WAAW,EAAGA,KAAK,IAAKD,WAAW,CAACC,KAAK,CAAE;MAC3C,MAAM,EAAGA,KAAK,IAAKC,MAAM,CAACD,KAAK,CAAE;MAAA,UAG7BN,KAAK,CAACmB,iBAAiB,CAACD,IAAI;IAAC,GAN5BZ,KAAK;MAAA;MAAA;MAAA;IAAA,QASjB,CAAC,eAMN,QAAC,iBAAiB;MAEd,KAAK,EAAEL,IAAI,CAACY,MAAO;MACnB,QAAQ,EAAE,KAAM;MAChB,MAAM,EAAGP,KAAK,IAAKC,MAAM,CAACD,KAAK;IAAE,GAH5BL,IAAI,CAACY,MAAM;MAAA;MAAA;MAAA;IAAA,QAIlB;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEb,CAAC;AAAA,GAlEKd,aAAa;AAAA,KAAbA,aAAa;AAoEnBA,aAAa,CAACqB,SAAS,GAAG;EACtBnB,IAAI,EAAEJ,SAAS,CAACwB,KAAK;EACrBF,iBAAiB,EAAEtB,SAAS,CAACyB;AACjC,CAAC;AAED,eAAevB,aAAa;AAAA;AAAA"},"metadata":{},"sourceType":"module"}